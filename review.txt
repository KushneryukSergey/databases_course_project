Триггеры:
1) Триггер на обновление старой главы. Т.е. если мы добавили новую версию главы к произведению (с тем же comic_id и chapter_num), то нужно у старой версии главы обновить поле valid_to_dttm на наш valid_from_dttm
2) Триггер на добавление поля приквел-сиквел связи: если добавили информацию, что произведение1 - приквел произведния2, то нужно добавить обратную сиквел-связь


Процедуры:
1) Получить статистику пользователя по количеству прочитанных глав за все время пребывания на сайте
2) Получить всех переводчиков, поработавших над переводом конкретного произведения
3) Получить количество пользователей, которые любят определенного автора (в их избранных находится не менее 50% процентов произведений этого автора) (для этого получить все произведения конкретного автора, где он был художником/сценаристом)
4)* Количество версий у главы?


Представления: (во многом основаны на том, что может быть необходимо в процедурах)
1. join: users [равенство user_id] favorites [равенство comic_id] comics - для получения статистики по популярности тех или иных произведений, а так же активности пользователя
2. join: users [равенство user_id] pages_read [равенство chapter_id] chapters - для получения статистики по популярности тех или иных произведений, насколько много их читают и т.д.
3. join: translators [равенство translator_id] chapters [равенство comic_id] comics - для получения информации о том, над какими проектами работают переводчики или какие переводчики работают над конкретным произведением, какой вклад


Индексы:
По всем полям, где у нас ровно один PK (idшники), т.е. users, authors, translators, comics, comments, chapters, эти поля и укажем как индексы

favorites: многоколончатый индекс по всем полям в порядке (comic_id, user_id) - в целом порядок не важен, так как используем эту таблицу для связи таблиц users и comics

comics_authors: ситуация похожая предыдущей, так как используем для связи comics и authors. Но так как ищем чаще список авторов для произведений чем наоборот (люди чаще заходят именно на произведения чем на страницы авторов), то лучше сделать в порядке (comic_id, author_id)

linked_comics: поля равнозначны, поэтому многоколончатый индекс с полями в порядке (1, 2)

pages_read: многоколончатый индекс по всем полям в порядке (chapter_id, read_dttm, user_id, page_num) так как нас чаще интересует в статистика в целом, какие произведения читают больше всего и какая нагруженность сервиса в различное время дня/день недели и т.п., а не информация по конкретным страницам или пользователям

